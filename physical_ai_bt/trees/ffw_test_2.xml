<?xml version="1.0" encoding="UTF-8"?>
<root BTCPP_format="3"
      main_tree_to_execute="RobotControlSequence">
  <BehaviorTree ID="RobotControlSequence">
    <Sequence name="RobotControlSequence">
      <InferenceAction name="VLA_Inference"
                       timeout="10.0"/>
      <PauseActionPublishAction name="Pause_Publishing"/>
  <RuleSwerve name="Rule_Based_Rotation"
      position_threshold="0.1"
      timeout="5.0"/>
      <ResumeActionPublishAction name="Resume_Publishing"/>
    </Sequence>
  </BehaviorTree>

  <!-- Description of Node Models (used by Groot) -->
  <TreeNodesModel>
    <Action ID="InferenceAction">
      <input_port name="timeout"
                  default="10.0">&#10;        Duration in seconds to monitor inference.&#10;        Does NOT stop inference, just completes after timeout.&#10;      </input_port>
    </Action>
    <Action ID="PauseActionPublishAction"/>
    <Action ID="ResumeActionPublishAction"/>
    <Action ID="RuleSwerve">
      <input_port name="current_positions">&#10;        Starting joint positions (comma-separated floats).&#10;        Used for initialization only.&#10;      </input_port>
      <input_port name="target_positions">&#10;        Target joint positions (comma-separated floats).&#10;        Must match number of joints.&#10;      </input_port>
      <input_port name="position_threshold"
                  default="0.1">&#10;        Position error threshold (radians) to consider target reached.&#10;      </input_port>
      <input_port name="timeout"
                  default="15.0">&#10;        Maximum time (seconds) to reach target before returning FAILURE.&#10;      </input_port>
    </Action>
  </TreeNodesModel>

</root>
